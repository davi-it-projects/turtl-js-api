{"version":3,"file":"turtl-js-api.mjs","sources":["../Module/TurtlEndpoint.js","../Module/TurtlResponse.js","../Module/TurtlRequestModel.js","../Module/TurtlAPIService.js","../Module/TurtlAPI.js"],"sourcesContent":["/**\n * Represents an API endpoint configuration for Turtl.\n *\n * @class\n * @param {Object} options - The endpoint configuration options.\n * @param {string} options.name - The name of the endpoint.\n * @param {string} options.path - The API path for the endpoint.\n * @param {string} [options.method=\"POST\"] - The HTTP method for the endpoint. Defaults to \"POST\".\n * @param {string} [options.modelName=\"empty\"] - The model name associated with the endpoint. Defaults to \"empty\".\n * @param {boolean} [options.requiresAuth=false] - Whether the endpoint requires authentication. Defaults to false.\n * @param {*} [options.mockResponseSuccess=null] - Mock response data for successful requests.\n * @param {*} [options.mockResponseFailure=null] - Mock response data for failed requests.\n * @param {Object} [options.headers={}] - Custom headers for the endpoint requests.\n */\nexport class TurtlEndpoint {\n  /**\n   * Creates a new TurtleEndpoint instance.\n   * @param {Object} options - The endpoint configuration options.\n   * @param {string} options.name - The name of the endpoint.\n   * @param {string} options.path - The API path for the endpoint.\n   * @param {string} [options.method=\"POST\"] - The HTTP method for the endpoint -- default is POST.\n   * @param {string} [options.modelName=\"empty\"] - The model name associated with the endpoint -- default is 'empty' model.\n   * @param {boolean} [options.requiresAuth=false] - Whether the endpoint requires authentication -- default is false.\n   * @param {*} [options.mockResponseSuccess=null] - Mock response data for successful requests.\n   * @param {*} [options.mockResponseFailure=null] - Mock response data for failed requests.\n   * @param {Object} [options.headers={}] - Custom headers for the endpoint requests.\n   */\n  constructor({\n    name,\n    path,\n    method = \"POST\",\n    modelName = \"empty\",\n    requiresAuth = false,\n    mockResponseSuccess = null,\n    mockResponseFailure = null,\n    headers = {},\n  }) {\n    this.name = name;\n    this.path = path;\n    this.method = method;\n    this.modelName = modelName;\n    this.requiresAuth = requiresAuth;\n    this.mockResponseSuccess = mockResponseSuccess;\n    this.mockResponseFailure = mockResponseFailure;\n    this.headers = headers;\n  }\n}\n","/**\n * Represents a standardized response structure for API operations.\n *\n * @class\n * @property {boolean} success - Indicates if the operation was successful.\n * @property {string} message - A message describing the result of the operation.\n * @property {Object} data - Additional data returned by the operation.\n *\n * @example\n * const response = new TurtlResponse(true, \"Operation succeeded\", { id: 1 });\n */\nexport class TurtlResponse {\n  constructor(success = false, message = \"\", data = {}) {\n    this.success = success;\n    this.message = message;\n    this.data = data;\n  }\n\n  static fromJson(json) {\n    return new TurtlResponse(\n      json.success ?? false,\n      json.message ?? \"\",\n      json.data ?? {}\n    );\n  }\n\n  static Error(message) {\n    return new TurtlResponse(false, message);\n  }\n\n  static Success(message = \"\", data = {}) {\n    return new TurtlResponse(true, message, data);\n  }\n}\n","import { TurtlResponse } from \"./TurtlResponse.js\";\n\n/**\n * Represents a request model with schema-based and custom validation.\n *\n * @class\n * @param {Object} [data={}] - Initial data for the model instance.\n * @param {Object} [schema={}] - Validation schema defining rules for each field.\n * @param {Function|null} [customValidator=null] - Optional custom validation function.\n * @param {Object|null} [api=null] - Optional API object providing validation rule functions.\n *\n * @property {Object} _schema - The validation schema for the model.\n * @property {Function|null} _customValidator - Custom validation function.\n * @property {Object|null} _api - API object for validation rules.\n * @property {Object} validateResult - Result of the validation process.\n * @property {boolean} isValid - Indicates if the model is valid.\n *\n * @method static createFactory\n *   Creates a factory for generating TurtlRequestModel instances with a given schema and optional custom validator.\n *   @param {Object} schema - Schema definition for the request model.\n *   @param {Function|null} [customValidator=null] - Optional custom validation function.\n *   @returns {{create: function(Object=, Object=): TurtlRequestModel}} Factory object with a `create` method.\n */\nexport class TurtlRequestModel {\n  constructor(data = {}, schema = {}, customValidator = null, api = null) {\n    this._schema = schema;\n    this._customValidator = customValidator;\n    this._api = api;\n\n    Object.assign(this, data);\n\n    const result = TurtlRequestModel.validateFields(schema, this, api);\n    const custom = customValidator ? customValidator(this) : null;\n\n    if (!result.success) {\n      this.validateResult = result;\n      this.isValid = false;\n    } else if (custom && !custom.success) {\n      this.validateResult = custom;\n      this.isValid = false;\n    } else {\n      this.validateResult = TurtlResponse.Success(\"Validation successful\");\n      this.isValid = true;\n    }\n  }\n\n  static validateFields(schema, instance, api) {\n    if (!instance.getErrorMessage) {\n      instance.getErrorMessage = (i, d, o) => {\n        const errorMessages = o?.errors || [];\n        return (\n          (Array.isArray(errorMessages) &&\n            errorMessages.length > i &&\n            errorMessages[i]) ||\n          d\n        );\n      };\n    }\n    for (const key in schema) {\n      const rulesArray = schema[key];\n      const value = instance[key];\n\n      if (!Array.isArray(rulesArray)) {\n        return TurtlResponse.Error(\n          `Schema for field '${key}' must be an array.`\n        );\n      }\n\n      for (const ruleEntry of rulesArray) {\n        const ruleName = ruleEntry.rule;\n        const options = ruleEntry.options || {};\n\n        const validator = api?.getValidationRule(ruleName);\n        if (typeof validator !== \"function\") {\n          return TurtlResponse.Error(\n            `Validation rule '${ruleName}' not registered.`\n          );\n        }\n\n        const result = validator(value, instance, options);\n        if (result instanceof TurtlResponse && !result.success) {\n          return result;\n        }\n      }\n    }\n\n    return TurtlResponse.Success();\n  }\n\n  getErrorMessage(index, defaultMessage, options) {\n    const errorMessages = options?.errors || [];\n    return (\n      (Array.isArray(errorMessages) &&\n        errorMessages.length > index &&\n        errorMessages[index]) ||\n      defaultMessage\n    );\n  }\n\n  toDataObject() {\n    const cleaned = {};\n    for (const key in this) {\n      if (\n        ![\n          \"_schema\",\n          \"_customValidator\",\n          \"_api\",\n          \"validateResult\",\n          \"isValid\",\n          \"getErrorMessage\",\n        ].includes(key)\n      ) {\n        cleaned[key] = this[key];\n      }\n    }\n    return cleaned;\n  }\n\n  /**\n   * Creates a factory object for generating instances of TurtlRequestModel.\n   *\n   * @param {Object} schema - The schema definition for the request model.\n   * @param {Function|null} [customValidator=null] - Optional custom validation function.\n   * @returns {{create: function(Object=, Object=): TurtlRequestModel}} Factory object with a `create` method.\n   */\n  static createFactory(schema, customValidator = null) {\n    return {\n      create(data = {}, api = null) {\n        return new TurtlRequestModel(data, schema, customValidator, api);\n      },\n    };\n  }\n}\n","import { TurtlEndpoint } from \"./TurtlEndpoint.js\";\nimport { TurtlRequestModel } from \"./TurtlRequestModel.js\";\n\n/**\n * TurtlAPIService manages API endpoints, request models, and headers for a service.\n *\n * @class\n * @example\n * const service = new TurtlAPIService('MyService', '/api');\n * service.addModel('user', UserRequestModel.createFactory({}));\n * service.addHeader('Authorization', 'Bearer token');\n * service.addEndpoint('getUser', { path: '/user', method: 'GET', modelName: 'user' });\n *\n * @param {string} name - The name of the service.\n * @param {string} basePath - The base path for the service.\n *\n * @property {string} name - The name of the service.\n * @property {string} basePath - The base path for the service.\n * @property {Map<string, TurtlEndpoint>} endpoints - Map of endpoint names to endpoint instances.\n * @property {Map<string, TurtlRequestModel>} Models - Map of model names to request model factories.\n * @property {Map<string, string>} headers - Map of header names to header values.\n *\n * @method addEndpoint(name: string, config: object): void\n *   Adds an endpoint to the service.\n * @method getEndpoint(name: string): TurtlEndpoint\n *   Gets an endpoint by name, applying service headers.\n * @method addModel(name: string, model: TurtlRequestModel): void\n *   Adds a request model to the service.\n * @method getModel(name: string): TurtlRequestModel\n *   Gets a request model by name.\n * @method addHeader(name: string, value: string): void\n *   Adds a header to the service.\n * @method getHeaders(): Map<string, string>\n *   Gets the map of headers for the service.\n */\nexport class TurtlAPIService {\n  /**\n   * Creates an instance of TurtlAPIService.\n   *\n   * @constructor\n   * @param {string} name - service name\n   * @param {string} basePath - base path for the service\n   */\n  constructor(name, basePath) {\n    this.name = name;\n    this.basePath = basePath;\n    this.endpoints = new Map();\n    this.Models = new Map();\n    this.headers = new Map();\n\n    // Add default models\n    this.addModel(\"empty\", TurtlRequestModel.createFactory({}));\n  }\n\n  /**\n   * Add an endpoint to the service\n   *\n   * @param {string} name - endpoint name\n   * @param {object} config - endpoint configuration\n   */\n  addEndpoint(name, config) {\n    const endpoint = new TurtlEndpoint({ ...config, name });\n    if (!this.Models.has(endpoint.modelName)) {\n      throw new Error(`Request model '${endpoint.modelName}' does not exist`);\n    }\n    this.endpoints.set(name, endpoint);\n  }\n\n  /**\n   * Gets a endpoint by name\n   *\n   * @param {string} name - endpoint name\n   * @returns {object} - endpoint configuration with Service headers applied\n   */\n  getEndpoint(name) {\n    let endpoint = this.endpoints.get(name);\n    for (const [key, value] of this.headers) {\n      if (key in endpoint.headers == false) {\n        endpoint.headers[key] = value;\n      }\n    }\n    return endpoint;\n  }\n\n  /**\n   * Add a model to the Service\n   *\n   * @param {string} name - model name\n   * @param {TurtlRequestModel} model - model class\n   */\n  addModel(name, model) {\n    if (this.Models.has(name)) {\n      throw new Error(`Request model '${name}' already exists`);\n    }\n    this.Models.set(name, model);\n  }\n\n  /**\n   * Get a model by a name\n   *\n   * @param {string} name - model name\n   * @returns {TurtlRequestModel} - model class\n   */\n  getModel(name) {\n    return this.Models.get(name);\n  }\n\n  /**\n   * Add header to the Service\n   *\n   * @param {string} name - header name\n   * @param {string} value - header value\n   */\n  addHeader(name, value) {\n    this.headers.set(name, value);\n  }\n\n  /**\n   * Get the Map of headers on this service\n   *\n   * @returns {Map<string,string>} - headers map\n   */\n  getHeaders() {\n    return this.headers;\n  }\n}\n","import { TurtlAPIService } from \"./TurtlAPIService.js\";\nimport { TurtlRequestModel } from \"./TurtlRequestModel.js\";\nimport { TurtlResponse } from \"./TurtlResponse.js\";\n\n/**\n * TurtlAPI is a modular API client for managing services, endpoints, and request models with built-in validation.\n *\n * @class\n * @example\n * const api = new TurtlAPI({\n *   host: \"https://api.example.com\",\n *   getAuthToken: () => localStorage.getItem(\"token\"),\n *   mock: false\n * });\n *\n * @param {Object} config - Configuration object.\n * @param {string} config.host - The base URL for API requests.\n * @param {Function} [config.getAuthToken=null] - Optional function to retrieve authentication token.\n * @param {boolean} [config.mock=false] - Whether to enable mock mode for responses.\n *\n * @property {string} host - The API host URL.\n * @property {Function|null} getAuthToken - Function to retrieve authentication token.\n * @property {Map<string, TurtlAPIService>} services - Registry of API services.\n * @property {Map<string, Function>} validationRules - Registry of validation rules.\n * @property {boolean} mock - Indicates if mock mode is enabled.\n * @property {Map<string, string>} headers - Registry of global headers.\n *\n * @description\n * - Manages API services and endpoints.\n * - Supports request model creation and validation.\n * - Provides built-in validation rules: required, email, minLength, arrayOf, instanceOf, typeOf.\n * - Handles global headers and authentication.\n * - Supports mock responses for testing.\n *\n * @method registerValidationRule(name, fn) Registers or overrides a validation rule.\n * @method getValidationRule(name) Retrieves a validation rule by name.\n * @method listValidationRules() Lists all registered validation rule names.\n * @method addService(service) Adds a new service to the API.\n * @method getService(name) Retrieves a service by name.\n * @method call(fullName, modelOrData, mockResult) Calls an endpoint with data or a request model.\n * @method createRequest(fullName, data) Creates and validates a request model for an endpoint.\n * @method addHeader(name, value) Adds a global header.\n * @method getHeaders() Returns the global headers map.\n */\nexport class TurtlAPI {\n  /**\n   * Creates a new TurtlAPI instance with configuration and built-in validation rules.\n   *\n   * @param {Object} config - Configuration object\n   * @param {string} config.host - The API host URL\n   * @param {Function} [config.getAuthToken=null] - Optional function to retrieve authentication token\n   * @param {boolean} [config.mock=false] - Whether to use mock mode\n   *\n   * @description\n   * Initializes the TurtlAPI module with:\n   * - Service registry (Map)\n   * - Validation rules registry (Map)\n   * - Headers registry (Map)\n   *\n   * Registers the following built-in validation rules:\n   * - `required`: Validates that a field is not empty/null/undefined\n   * - `email`: Validates email format using regex pattern\n   * - `minLength`: Validates minimum string length\n   * - `arrayOf`: Validates array items match specified type (primitive or class instance)\n   * - `instanceOf`: Validates value is instance of specified class\n   * - `typeOf`: Validates value matches specified primitive type\n   */\n  constructor({ host, getAuthToken = null, mock = false }) {\n    this.host = host;\n    this.getAuthToken = getAuthToken;\n    this.services = new Map();\n    this.validationRules = new Map();\n    this.mock = mock;\n    this.headers = new Map();\n\n    // Register built-in validation rules\n    this.registerValidationRule(\"required\", (value, instance, options) => {\n      if (value === undefined || value === null || value === \"\") {\n        return TurtlResponse.Error(\n          instance.getErrorMessage(0, \"Field is required.\", options)\n        );\n      }\n      return TurtlResponse.Success();\n    });\n    this.registerValidationRule(\"email\", (value, instance, options) => {\n      if (value && !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value)) {\n        return TurtlResponse.Error(\n          instance.getErrorMessage(0, \"Must be a valid email.\", options)\n        );\n      }\n      return TurtlResponse.Success();\n    });\n\n    this.registerValidationRule(\"minLength\", (value, instance, options) => {\n      if (value !== undefined && typeof value === \"string\") {\n        if (value.length < (options.length || 0)) {\n          return TurtlResponse.Error(\n            instance.getErrorMessage(\n              0,\n              `Minimum length is ${options.length}.`,\n              options\n            )\n          );\n        }\n      }\n      return TurtlResponse.Success();\n    });\n    this.registerValidationRule(\"arrayOf\", (value, instance, options) => {\n      const { type, isTypeClass = false } = options || {};\n      if (!Array.isArray(value)) {\n        return TurtlResponse.Error(\n          instance.getErrorMessage(0, \"Value must be an array.\", options)\n        );\n      }\n      if (!type) {\n        return TurtlResponse.Error(\"No type specified for arrayOf rule.\");\n      }\n      for (const item of value) {\n        if (isTypeClass) {\n          // Check if item is an instance of the specified class\n          if (!(item instanceof type)) {\n            return TurtlResponse.Error(\n              instance.getErrorMessage(\n                2,\n                `Array item must be an instance of '${\n                  type.name\n                }', but got '${typeof item}'.`,\n                options\n              )\n            );\n          }\n        } else {\n          // Check if item is of the specified type\n          if (typeof item !== type) {\n            return TurtlResponse.Error(\n              instance.getErrorMessage(\n                3,\n                `Array item must be of type '${type}', but got '${typeof item}'.`,\n                options\n              )\n            );\n          }\n        }\n      }\n      return TurtlResponse.Success();\n    });\n    this.registerValidationRule(\"instanceOf\", (value, instance, options) => {\n      const type = options.type || null;\n      if (!type) {\n        return TurtlResponse.Error(\"No type specified for InstanceOf rule.\");\n      }\n      if (!(value instanceof type)) {\n        return TurtlResponse.Error(\n          instance.getErrorMessage(\n            0,\n            `Value must be an instance of '${\n              type.name\n            }', but got '${typeof value}'.`,\n            options\n          )\n        );\n      }\n      return TurtlResponse.Success();\n    });\n    this.registerValidationRule(\"typeOf\", (value, instance, options) => {\n      const type = options.type || null;\n      if (!type) {\n        return TurtlResponse.Error(\"No type specified for TypeOf rule.\");\n      }\n      if (typeof value !== type) {\n        return TurtlResponse.Error(\n          instance.getErrorMessage(\n            0,\n            `Value must be of type '${type}', but got '${typeof value}'.`,\n            options\n          )\n        );\n      }\n      return TurtlResponse.Success();\n    });\n  }\n\n  /**\n   * Registers a new validation rule, overrides any rule that has the same name.\n   *\n   * @param {string} name - Name of the validation rule\n   * @param {CallableFunction} fn - Validation function, should return TurtlResponse in all cases\n   */\n  registerValidationRule(name, fn) {\n    if (name in this.validationRules) {\n      console.warn(\n        `[TurtlAPI] Validation rule '${name}' is already registered. Overwriting.`\n      );\n    }\n\n    this.validationRules.set(name, fn);\n  }\n\n  /**\n   * Gets a validation rule by name.\n   *\n   * @param {string} name - Name of the validation rule\n   * @returns {CallableFunction} - The validation function\n   *\n   * @throws {Error} - If the validation rule is not found\n   */\n  getValidationRule(name) {\n    if (!this.validationRules.has(name)) {\n      throw new Error(`Validation rule not found: ${name}`);\n    }\n    return this.validationRules.get(name);\n  }\n\n  /**\n   * Lists all registered validation rule\n   *\n   * @returns {string[]} - Array of validation rule names\n   */\n  listValidationRules() {\n    return Array.from(this.validationRules.keys());\n  }\n\n  static async #sendRequest(\n    method,\n    url,\n    body,\n    requiresAuth,\n    getAuthToken,\n    headers = {}\n  ) {\n    return new Promise((resolve) => {\n      const xhr = new XMLHttpRequest();\n      xhr.open(method, url);\n      xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n\n      if (requiresAuth) {\n        const token = getAuthToken ? getAuthToken() : null;\n        if (token) {\n          xhr.setRequestHeader(\"Authorization\", `Bearer ${token}`);\n        } else {\n          resolve(TurtlResponse.Error(\"Authentication required.\"));\n          return;\n        }\n      }\n\n      for (const key in headers) {\n        xhr.setRequestHeader(key, headers[key]);\n      }\n\n      xhr.onload = () => {\n        try {\n          const json = JSON.parse(xhr.responseText);\n          resolve(TurtlResponse.fromJson(json));\n        } catch (e) {\n          resolve(TurtlResponse.Error(\"Invalid response\"));\n        }\n      };\n\n      xhr.onerror = () => resolve(TurtlResponse.Error(\"Network error\"));\n      xhr.ontimeout = () => resolve(TurtlResponse.Error(\"Request timed out.\"));\n\n      xhr.send(JSON.stringify(body));\n    });\n  }\n\n  /**\n   * Call an endpoint\n   *\n   * @async\n   * @param {string} fullName - endpoint name in format of serviceName.Endpoint\n   * @param {{}} [modelOrData={}] - an object with data or model created with `TurtleAPI.CreateRequest`\n   * @param {boolean} [mockResult=false] - whether to return a mock success or failure response (only in mock mode)\n   * @returns {TurtlResponse} - response from the endpoint or error response\n   */\n  async call(fullName, modelOrData = {}, mockResult = false) {\n    const data = this.#getDataFromFullName(fullName);\n    if (data.Failed) {\n      return data.Response;\n    }\n    const service = data.Service;\n    const endpoint = data.Endpoint;\n\n    for (const [key, value] of this.headers) {\n      if (key in endpoint.headers == false) {\n        endpoint.headers[key] = value;\n      }\n    }\n\n    const isModel =\n      modelOrData._schema != undefined &&\n      typeof modelOrData._schema === \"object\";\n    if (isModel) {\n      return await this.#callWithModel(\n        modelOrData,\n        service,\n        endpoint,\n        mockResult\n      );\n    } else {\n      return await this.#callWithData(\n        modelOrData,\n        service,\n        endpoint,\n        mockResult\n      );\n    }\n  }\n\n  async #callWithData(data, service, endpoint, mockResult) {\n    const modelFactory = service.getModel(endpoint.modelName);\n    if (\n      modelFactory &&\n      modelFactory.create &&\n      typeof modelFactory.create === \"function\"\n    ) {\n      const requestModel = modelFactory.create(data, this); // Inject api here\n      return await this.#callWithModel(\n        requestModel,\n        service,\n        endpoint,\n        mockResult\n      );\n    }\n    return TurtlResponse.Error(\"Invalid data\");\n  }\n\n  async #callWithModel(requestModel, service, endpoint, mockResult) {\n    if (!requestModel.isValid) {\n      return requestModel.validateResult;\n    }\n    return await this.#prepareSendRequest(\n      requestModel,\n      service,\n      endpoint,\n      mockResult\n    );\n  }\n\n  async #prepareSendRequest(model, service, endpoint, mockResult) {\n    if (this.mock) {\n      if (mockResult) {\n        // If endpoint has a mockResponse, use it\n        if (typeof endpoint.mockResponseSuccess === \"function\") {\n          return await endpoint.mockResponseSuccess(model);\n        }\n        if (endpoint.mockResponseSuccess !== undefined) {\n          return typeof endpoint.mockResponseSuccess.then === \"function\"\n            ? await endpoint.mockResponseSuccess\n            : endpoint.mockResponseSuccess;\n        }\n        // Default mock response\n        return TurtlResponse.Success(\"Mocked response\", {});\n      } else {\n        // If endpoint has a mockResponseFailure, use it\n        if (typeof endpoint.mockResponseFailure === \"function\") {\n          return await endpoint.mockResponseFailure(model);\n        }\n        if (endpoint.mockResponseFailure !== undefined) {\n          return typeof endpoint.mockResponseFailure.then === \"function\"\n            ? await endpoint.mockResponseFailure\n            : endpoint.mockResponseFailure;\n        }\n        // Default mock failure response\n        return TurtlResponse.Error(\"Mocked failure response\");\n      }\n    }\n\n    const url = `${this.host}${service.basePath}${endpoint.path}`;\n    const method = endpoint.method;\n    const headers = endpoint.headers || {};\n    try {\n      return await TurtlAPI.#sendRequest(\n        method,\n        url,\n        model.toDataObject(),\n        endpoint.requiresAuth,\n        this.getAuthToken,\n        headers\n      );\n    } catch (error) {\n      return TurtlResponse.Error(\"Request failed\");\n    }\n  }\n\n  /**\n   * Add a new service to the api\n   *\n   * @param {TurtlAPIService} service\n   */\n  addService(service) {\n    if (!service || !service.name) {\n      throw new Error(\"Service must have a 'name' property.\");\n    }\n    this.services.set(service.name, service);\n  }\n\n  /**\n   * Get a service by name\n   *\n   * @param {string} name - Name of the service\n   * @returns {TurtlAPIService} - The service instance\n   */\n  getService(name) {\n    return this.services.get(name);\n  }\n\n  #getDataFromFullName(fullName) {\n    const [serviceName, endpointName] = fullName.split(\".\");\n    const output = {\n      Failed: true,\n      Response: null,\n      Service: null,\n      Endpoint: null,\n    };\n\n    const service = this.getService(serviceName);\n    if (!service) {\n      output.Response = TurtlResponse.Error(\n        `Service '${serviceName}' not found.`\n      );\n      return output;\n    }\n    output.Service = service;\n\n    const endpoint = service.getEndpoint(endpointName);\n    if (!endpoint) {\n      output.Response = TurtlResponse.Error(\n        `Endpoint '${endpointName}' not found in service '${serviceName}'.`\n      );\n      return output;\n    }\n    output.Endpoint = endpoint;\n    output.Failed = false;\n    return output;\n  }\n\n  /**\n   * Create and validate a request model before calling the endpoint\n   *\n   * @param {string} fullName - endpoint name in format of serviceName.Endpoint\n   * @param {object} data - data to populate the request model\n   * @returns {TurtlRequestModel | TurtlResponse} - The request model instance or error response\n   */\n  createRequest(fullName, data) {\n    try {\n      const internal = this.#getDataFromFullName(fullName);\n      if (internal.Failed) {\n        return internal.Response;\n      }\n      const modelFactory = internal.Service.getModel(\n        internal.Endpoint.modelName\n      );\n      if (\n        modelFactory &&\n        modelFactory.create &&\n        typeof modelFactory.create === \"function\"\n      ) {\n        return modelFactory.create(data, this); // Inject api here\n      }\n      throw new Error(`Failed to create request '${fullName}'.`);\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  /**\n   * Add a header to the global api header list\n   *\n   * @param {string} name - header name\n   * @param {string} value - header value\n   */\n  addHeader(name, value) {\n    this.headers.set(name, value);\n  }\n\n  /**\n   * Returns the header map\n   *\n   * @returns {Map<string,string>} - headers map\n   */\n  getHeaders() {\n    return this.headers;\n  }\n}\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAM,aAAa,CAAC;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC;AACd,IAAI,IAAI;AACR,IAAI,IAAI;AACR,IAAI,MAAM,GAAG,MAAM;AACnB,IAAI,SAAS,GAAG,OAAO;AACvB,IAAI,YAAY,GAAG,KAAK;AACxB,IAAI,mBAAmB,GAAG,IAAI;AAC9B,IAAI,mBAAmB,GAAG,IAAI;AAC9B,IAAI,OAAO,GAAG,EAAE;AAChB,GAAG,EAAE;AACL,IAAI,IAAI,CAAC,IAAI,GAAG,IAAI;AACpB,IAAI,IAAI,CAAC,IAAI,GAAG,IAAI;AACpB,IAAI,IAAI,CAAC,MAAM,GAAG,MAAM;AACxB,IAAI,IAAI,CAAC,SAAS,GAAG,SAAS;AAC9B,IAAI,IAAI,CAAC,YAAY,GAAG,YAAY;AACpC,IAAI,IAAI,CAAC,mBAAmB,GAAG,mBAAmB;AAClD,IAAI,IAAI,CAAC,mBAAmB,GAAG,mBAAmB;AAClD,IAAI,IAAI,CAAC,OAAO,GAAG,OAAO;AAC1B,EAAE;AACF;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAM,aAAa,CAAC;AAC3B,EAAE,WAAW,CAAC,OAAO,GAAG,KAAK,EAAE,OAAO,GAAG,EAAE,EAAE,IAAI,GAAG,EAAE,EAAE;AACxD,IAAI,IAAI,CAAC,OAAO,GAAG,OAAO;AAC1B,IAAI,IAAI,CAAC,OAAO,GAAG,OAAO;AAC1B,IAAI,IAAI,CAAC,IAAI,GAAG,IAAI;AACpB,EAAE;;AAEF,EAAE,OAAO,QAAQ,CAAC,IAAI,EAAE;AACxB,IAAI,OAAO,IAAI,aAAa;AAC5B,MAAM,IAAI,CAAC,OAAO,IAAI,KAAK;AAC3B,MAAM,IAAI,CAAC,OAAO,IAAI,EAAE;AACxB,MAAM,IAAI,CAAC,IAAI,IAAI;AACnB,KAAK;AACL,EAAE;;AAEF,EAAE,OAAO,KAAK,CAAC,OAAO,EAAE;AACxB,IAAI,OAAO,IAAI,aAAa,CAAC,KAAK,EAAE,OAAO,CAAC;AAC5C,EAAE;;AAEF,EAAE,OAAO,OAAO,CAAC,OAAO,GAAG,EAAE,EAAE,IAAI,GAAG,EAAE,EAAE;AAC1C,IAAI,OAAO,IAAI,aAAa,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC;AACjD,EAAE;AACF;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAM,iBAAiB,CAAC;AAC/B,EAAE,WAAW,CAAC,IAAI,GAAG,EAAE,EAAE,MAAM,GAAG,EAAE,EAAE,eAAe,GAAG,IAAI,EAAE,GAAG,GAAG,IAAI,EAAE;AAC1E,IAAI,IAAI,CAAC,OAAO,GAAG,MAAM;AACzB,IAAI,IAAI,CAAC,gBAAgB,GAAG,eAAe;AAC3C,IAAI,IAAI,CAAC,IAAI,GAAG,GAAG;;AAEnB,IAAI,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC;;AAE7B,IAAI,MAAM,MAAM,GAAG,iBAAiB,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,EAAE,GAAG,CAAC;AACtE,IAAI,MAAM,MAAM,GAAG,eAAe,GAAG,eAAe,CAAC,IAAI,CAAC,GAAG,IAAI;;AAEjE,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;AACzB,MAAM,IAAI,CAAC,cAAc,GAAG,MAAM;AAClC,MAAM,IAAI,CAAC,OAAO,GAAG,KAAK;AAC1B,IAAI,CAAC,MAAM,IAAI,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;AAC1C,MAAM,IAAI,CAAC,cAAc,GAAG,MAAM;AAClC,MAAM,IAAI,CAAC,OAAO,GAAG,KAAK;AAC1B,IAAI,CAAC,MAAM;AACX,MAAM,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC,OAAO,CAAC,uBAAuB,CAAC;AAC1E,MAAM,IAAI,CAAC,OAAO,GAAG,IAAI;AACzB,IAAI;AACJ,EAAE;;AAEF,EAAE,OAAO,cAAc,CAAC,MAAM,EAAE,QAAQ,EAAE,GAAG,EAAE;AAC/C,IAAI,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE;AACnC,MAAM,QAAQ,CAAC,eAAe,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK;AAC9C,QAAQ,MAAM,aAAa,GAAG,CAAC,EAAE,MAAM,IAAI,EAAE;AAC7C,QAAQ;AACR,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC;AACvC,YAAY,aAAa,CAAC,MAAM,GAAG,CAAC;AACpC,YAAY,aAAa,CAAC,CAAC,CAAC;AAC5B,UAAU;AACV;AACA,MAAM,CAAC;AACP,IAAI;AACJ,IAAI,KAAK,MAAM,GAAG,IAAI,MAAM,EAAE;AAC9B,MAAM,MAAM,UAAU,GAAG,MAAM,CAAC,GAAG,CAAC;AACpC,MAAM,MAAM,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC;;AAEjC,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;AACtC,QAAQ,OAAO,aAAa,CAAC,KAAK;AAClC,UAAU,CAAC,kBAAkB,EAAE,GAAG,CAAC,mBAAmB;AACtD,SAAS;AACT,MAAM;;AAEN,MAAM,KAAK,MAAM,SAAS,IAAI,UAAU,EAAE;AAC1C,QAAQ,MAAM,QAAQ,GAAG,SAAS,CAAC,IAAI;AACvC,QAAQ,MAAM,OAAO,GAAG,SAAS,CAAC,OAAO,IAAI,EAAE;;AAE/C,QAAQ,MAAM,SAAS,GAAG,GAAG,EAAE,iBAAiB,CAAC,QAAQ,CAAC;AAC1D,QAAQ,IAAI,OAAO,SAAS,KAAK,UAAU,EAAE;AAC7C,UAAU,OAAO,aAAa,CAAC,KAAK;AACpC,YAAY,CAAC,iBAAiB,EAAE,QAAQ,CAAC,iBAAiB;AAC1D,WAAW;AACX,QAAQ;;AAER,QAAQ,MAAM,MAAM,GAAG,SAAS,CAAC,KAAK,EAAE,QAAQ,EAAE,OAAO,CAAC;AAC1D,QAAQ,IAAI,MAAM,YAAY,aAAa,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;AAChE,UAAU,OAAO,MAAM;AACvB,QAAQ;AACR,MAAM;AACN,IAAI;;AAEJ,IAAI,OAAO,aAAa,CAAC,OAAO,EAAE;AAClC,EAAE;;AAEF,EAAE,eAAe,CAAC,KAAK,EAAE,cAAc,EAAE,OAAO,EAAE;AAClD,IAAI,MAAM,aAAa,GAAG,OAAO,EAAE,MAAM,IAAI,EAAE;AAC/C,IAAI;AACJ,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC;AACnC,QAAQ,aAAa,CAAC,MAAM,GAAG,KAAK;AACpC,QAAQ,aAAa,CAAC,KAAK,CAAC;AAC5B,MAAM;AACN;AACA,EAAE;;AAEF,EAAE,YAAY,GAAG;AACjB,IAAI,MAAM,OAAO,GAAG,EAAE;AACtB,IAAI,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE;AAC5B,MAAM;AACN,QAAQ,CAAC;AACT,UAAU,SAAS;AACnB,UAAU,kBAAkB;AAC5B,UAAU,MAAM;AAChB,UAAU,gBAAgB;AAC1B,UAAU,SAAS;AACnB,UAAU,iBAAiB;AAC3B,SAAS,CAAC,QAAQ,CAAC,GAAG;AACtB,QAAQ;AACR,QAAQ,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC;AAChC,MAAM;AACN,IAAI;AACJ,IAAI,OAAO,OAAO;AAClB,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,OAAO,aAAa,CAAC,MAAM,EAAE,eAAe,GAAG,IAAI,EAAE;AACvD,IAAI,OAAO;AACX,MAAM,MAAM,CAAC,IAAI,GAAG,EAAE,EAAE,GAAG,GAAG,IAAI,EAAE;AACpC,QAAQ,OAAO,IAAI,iBAAiB,CAAC,IAAI,EAAE,MAAM,EAAE,eAAe,EAAE,GAAG,CAAC;AACxE,MAAM,CAAC;AACP,KAAK;AACL,EAAE;AACF;;ACjIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAM,eAAe,CAAC;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,IAAI,EAAE,QAAQ,EAAE;AAC9B,IAAI,IAAI,CAAC,IAAI,GAAG,IAAI;AACpB,IAAI,IAAI,CAAC,QAAQ,GAAG,QAAQ;AAC5B,IAAI,IAAI,CAAC,SAAS,GAAG,IAAI,GAAG,EAAE;AAC9B,IAAI,IAAI,CAAC,MAAM,GAAG,IAAI,GAAG,EAAE;AAC3B,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI,GAAG,EAAE;;AAE5B;AACA,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,iBAAiB,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;AAC/D,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,IAAI,EAAE,MAAM,EAAE;AAC5B,IAAI,MAAM,QAAQ,GAAG,IAAI,aAAa,CAAC,EAAE,GAAG,MAAM,EAAE,IAAI,EAAE,CAAC;AAC3D,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;AAC9C,MAAM,MAAM,IAAI,KAAK,CAAC,CAAC,eAAe,EAAE,QAAQ,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;AAC7E,IAAI;AACJ,IAAI,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,EAAE,QAAQ,CAAC;AACtC,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,IAAI,EAAE;AACpB,IAAI,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC;AAC3C,IAAI,KAAK,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,IAAI,CAAC,OAAO,EAAE;AAC7C,MAAM,IAAI,GAAG,IAAI,QAAQ,CAAC,OAAO,IAAI,KAAK,EAAE;AAC5C,QAAQ,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,KAAK;AACrC,MAAM;AACN,IAAI;AACJ,IAAI,OAAO,QAAQ;AACnB,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,QAAQ,CAAC,IAAI,EAAE,KAAK,EAAE;AACxB,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;AAC/B,MAAM,MAAM,IAAI,KAAK,CAAC,CAAC,eAAe,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;AAC/D,IAAI;AACJ,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,CAAC;AAChC,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,QAAQ,CAAC,IAAI,EAAE;AACjB,IAAI,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC;AAChC,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,SAAS,CAAC,IAAI,EAAE,KAAK,EAAE;AACzB,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,CAAC;AACjC,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,EAAE,UAAU,GAAG;AACf,IAAI,OAAO,IAAI,CAAC,OAAO;AACvB,EAAE;AACF;;ACzHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAM,QAAQ,CAAC;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,EAAE,IAAI,EAAE,YAAY,GAAG,IAAI,EAAE,IAAI,GAAG,KAAK,EAAE,EAAE;AAC3D,IAAI,IAAI,CAAC,IAAI,GAAG,IAAI;AACpB,IAAI,IAAI,CAAC,YAAY,GAAG,YAAY;AACpC,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,GAAG,EAAE;AAC7B,IAAI,IAAI,CAAC,eAAe,GAAG,IAAI,GAAG,EAAE;AACpC,IAAI,IAAI,CAAC,IAAI,GAAG,IAAI;AACpB,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI,GAAG,EAAE;;AAE5B;AACA,IAAI,IAAI,CAAC,sBAAsB,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE,OAAO,KAAK;AAC1E,MAAM,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,EAAE,EAAE;AACjE,QAAQ,OAAO,aAAa,CAAC,KAAK;AAClC,UAAU,QAAQ,CAAC,eAAe,CAAC,CAAC,EAAE,oBAAoB,EAAE,OAAO;AACnE,SAAS;AACT,MAAM;AACN,MAAM,OAAO,aAAa,CAAC,OAAO,EAAE;AACpC,IAAI,CAAC,CAAC;AACN,IAAI,IAAI,CAAC,sBAAsB,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE,OAAO,KAAK;AACvE,MAAM,IAAI,KAAK,IAAI,CAAC,4BAA4B,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;AAC9D,QAAQ,OAAO,aAAa,CAAC,KAAK;AAClC,UAAU,QAAQ,CAAC,eAAe,CAAC,CAAC,EAAE,wBAAwB,EAAE,OAAO;AACvE,SAAS;AACT,MAAM;AACN,MAAM,OAAO,aAAa,CAAC,OAAO,EAAE;AACpC,IAAI,CAAC,CAAC;;AAEN,IAAI,IAAI,CAAC,sBAAsB,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE,OAAO,KAAK;AAC3E,MAAM,IAAI,KAAK,KAAK,SAAS,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;AAC5D,QAAQ,IAAI,KAAK,CAAC,MAAM,IAAI,OAAO,CAAC,MAAM,IAAI,CAAC,CAAC,EAAE;AAClD,UAAU,OAAO,aAAa,CAAC,KAAK;AACpC,YAAY,QAAQ,CAAC,eAAe;AACpC,cAAc,CAAC;AACf,cAAc,CAAC,kBAAkB,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;AACpD,cAAc;AACd;AACA,WAAW;AACX,QAAQ;AACR,MAAM;AACN,MAAM,OAAO,aAAa,CAAC,OAAO,EAAE;AACpC,IAAI,CAAC,CAAC;AACN,IAAI,IAAI,CAAC,sBAAsB,CAAC,SAAS,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE,OAAO,KAAK;AACzE,MAAM,MAAM,EAAE,IAAI,EAAE,WAAW,GAAG,KAAK,EAAE,GAAG,OAAO,IAAI,EAAE;AACzD,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;AACjC,QAAQ,OAAO,aAAa,CAAC,KAAK;AAClC,UAAU,QAAQ,CAAC,eAAe,CAAC,CAAC,EAAE,yBAAyB,EAAE,OAAO;AACxE,SAAS;AACT,MAAM;AACN,MAAM,IAAI,CAAC,IAAI,EAAE;AACjB,QAAQ,OAAO,aAAa,CAAC,KAAK,CAAC,qCAAqC,CAAC;AACzE,MAAM;AACN,MAAM,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;AAChC,QAAQ,IAAI,WAAW,EAAE;AACzB;AACA,UAAU,IAAI,EAAE,IAAI,YAAY,IAAI,CAAC,EAAE;AACvC,YAAY,OAAO,aAAa,CAAC,KAAK;AACtC,cAAc,QAAQ,CAAC,eAAe;AACtC,gBAAgB,CAAC;AACjB,gBAAgB,CAAC,mCAAmC;AACpD,kBAAkB,IAAI,CAAC;AACvB,iBAAiB,YAAY,EAAE,OAAO,IAAI,CAAC,EAAE,CAAC;AAC9C,gBAAgB;AAChB;AACA,aAAa;AACb,UAAU;AACV,QAAQ,CAAC,MAAM;AACf;AACA,UAAU,IAAI,OAAO,IAAI,KAAK,IAAI,EAAE;AACpC,YAAY,OAAO,aAAa,CAAC,KAAK;AACtC,cAAc,QAAQ,CAAC,eAAe;AACtC,gBAAgB,CAAC;AACjB,gBAAgB,CAAC,4BAA4B,EAAE,IAAI,CAAC,YAAY,EAAE,OAAO,IAAI,CAAC,EAAE,CAAC;AACjF,gBAAgB;AAChB;AACA,aAAa;AACb,UAAU;AACV,QAAQ;AACR,MAAM;AACN,MAAM,OAAO,aAAa,CAAC,OAAO,EAAE;AACpC,IAAI,CAAC,CAAC;AACN,IAAI,IAAI,CAAC,sBAAsB,CAAC,YAAY,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE,OAAO,KAAK;AAC5E,MAAM,MAAM,IAAI,GAAG,OAAO,CAAC,IAAI,IAAI,IAAI;AACvC,MAAM,IAAI,CAAC,IAAI,EAAE;AACjB,QAAQ,OAAO,aAAa,CAAC,KAAK,CAAC,wCAAwC,CAAC;AAC5E,MAAM;AACN,MAAM,IAAI,EAAE,KAAK,YAAY,IAAI,CAAC,EAAE;AACpC,QAAQ,OAAO,aAAa,CAAC,KAAK;AAClC,UAAU,QAAQ,CAAC,eAAe;AAClC,YAAY,CAAC;AACb,YAAY,CAAC,8BAA8B;AAC3C,cAAc,IAAI,CAAC;AACnB,aAAa,YAAY,EAAE,OAAO,KAAK,CAAC,EAAE,CAAC;AAC3C,YAAY;AACZ;AACA,SAAS;AACT,MAAM;AACN,MAAM,OAAO,aAAa,CAAC,OAAO,EAAE;AACpC,IAAI,CAAC,CAAC;AACN,IAAI,IAAI,CAAC,sBAAsB,CAAC,QAAQ,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE,OAAO,KAAK;AACxE,MAAM,MAAM,IAAI,GAAG,OAAO,CAAC,IAAI,IAAI,IAAI;AACvC,MAAM,IAAI,CAAC,IAAI,EAAE;AACjB,QAAQ,OAAO,aAAa,CAAC,KAAK,CAAC,oCAAoC,CAAC;AACxE,MAAM;AACN,MAAM,IAAI,OAAO,KAAK,KAAK,IAAI,EAAE;AACjC,QAAQ,OAAO,aAAa,CAAC,KAAK;AAClC,UAAU,QAAQ,CAAC,eAAe;AAClC,YAAY,CAAC;AACb,YAAY,CAAC,uBAAuB,EAAE,IAAI,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,EAAE,CAAC;AACzE,YAAY;AACZ;AACA,SAAS;AACT,MAAM;AACN,MAAM,OAAO,aAAa,CAAC,OAAO,EAAE;AACpC,IAAI,CAAC,CAAC;AACN,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,sBAAsB,CAAC,IAAI,EAAE,EAAE,EAAE;AACnC,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,eAAe,EAAE;AACtC,MAAM,OAAO,CAAC,IAAI;AAClB,QAAQ,CAAC,4BAA4B,EAAE,IAAI,CAAC,qCAAqC;AACjF,OAAO;AACP,IAAI;;AAEJ,IAAI,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,EAAE,EAAE,CAAC;AACtC,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,iBAAiB,CAAC,IAAI,EAAE;AAC1B,IAAI,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;AACzC,MAAM,MAAM,IAAI,KAAK,CAAC,CAAC,2BAA2B,EAAE,IAAI,CAAC,CAAC,CAAC;AAC3D,IAAI;AACJ,IAAI,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC;AACzC,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,EAAE,mBAAmB,GAAG;AACxB,IAAI,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;AAClD,EAAE;;AAEF,EAAE,aAAa,YAAY;AAC3B,IAAI,MAAM;AACV,IAAI,GAAG;AACP,IAAI,IAAI;AACR,IAAI,YAAY;AAChB,IAAI,YAAY;AAChB,IAAI,OAAO,GAAG;AACd,IAAI;AACJ,IAAI,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,KAAK;AACpC,MAAM,MAAM,GAAG,GAAG,IAAI,cAAc,EAAE;AACtC,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC;AAC3B,MAAM,GAAG,CAAC,gBAAgB,CAAC,cAAc,EAAE,kBAAkB,CAAC;;AAE9D,MAAM,IAAI,YAAY,EAAE;AACxB,QAAQ,MAAM,KAAK,GAAG,YAAY,GAAG,YAAY,EAAE,GAAG,IAAI;AAC1D,QAAQ,IAAI,KAAK,EAAE;AACnB,UAAU,GAAG,CAAC,gBAAgB,CAAC,eAAe,EAAE,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,CAAC;AAClE,QAAQ,CAAC,MAAM;AACf,UAAU,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,0BAA0B,CAAC,CAAC;AAClE,UAAU;AACV,QAAQ;AACR,MAAM;;AAEN,MAAM,KAAK,MAAM,GAAG,IAAI,OAAO,EAAE;AACjC,QAAQ,GAAG,CAAC,gBAAgB,CAAC,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;AAC/C,MAAM;;AAEN,MAAM,GAAG,CAAC,MAAM,GAAG,MAAM;AACzB,QAAQ,IAAI;AACZ,UAAU,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC;AACnD,UAAU,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;AAC/C,QAAQ,CAAC,CAAC,OAAO,CAAC,EAAE;AACpB,UAAU,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;AAC1D,QAAQ;AACR,MAAM,CAAC;;AAEP,MAAM,GAAG,CAAC,OAAO,GAAG,MAAM,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;AACvE,MAAM,GAAG,CAAC,SAAS,GAAG,MAAM,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,oBAAoB,CAAC,CAAC;;AAE9E,MAAM,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;AACpC,IAAI,CAAC,CAAC;AACN,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,MAAM,IAAI,CAAC,QAAQ,EAAE,WAAW,GAAG,EAAE,EAAE,UAAU,GAAG,KAAK,EAAE;AAC7D,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC;AACpD,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;AACrB,MAAM,OAAO,IAAI,CAAC,QAAQ;AAC1B,IAAI;AACJ,IAAI,MAAM,OAAO,GAAG,IAAI,CAAC,OAAO;AAChC,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ;;AAElC,IAAI,KAAK,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,IAAI,CAAC,OAAO,EAAE;AAC7C,MAAM,IAAI,GAAG,IAAI,QAAQ,CAAC,OAAO,IAAI,KAAK,EAAE;AAC5C,QAAQ,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,KAAK;AACrC,MAAM;AACN,IAAI;;AAEJ,IAAI,MAAM,OAAO;AACjB,MAAM,WAAW,CAAC,OAAO,IAAI,SAAS;AACtC,MAAM,OAAO,WAAW,CAAC,OAAO,KAAK,QAAQ;AAC7C,IAAI,IAAI,OAAO,EAAE;AACjB,MAAM,OAAO,MAAM,IAAI,CAAC,cAAc;AACtC,QAAQ,WAAW;AACnB,QAAQ,OAAO;AACf,QAAQ,QAAQ;AAChB,QAAQ;AACR,OAAO;AACP,IAAI,CAAC,MAAM;AACX,MAAM,OAAO,MAAM,IAAI,CAAC,aAAa;AACrC,QAAQ,WAAW;AACnB,QAAQ,OAAO;AACf,QAAQ,QAAQ;AAChB,QAAQ;AACR,OAAO;AACP,IAAI;AACJ,EAAE;;AAEF,EAAE,MAAM,aAAa,CAAC,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAE;AAC3D,IAAI,MAAM,YAAY,GAAG,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC;AAC7D,IAAI;AACJ,MAAM,YAAY;AAClB,MAAM,YAAY,CAAC,MAAM;AACzB,MAAM,OAAO,YAAY,CAAC,MAAM,KAAK;AACrC,MAAM;AACN,MAAM,MAAM,YAAY,GAAG,YAAY,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AAC3D,MAAM,OAAO,MAAM,IAAI,CAAC,cAAc;AACtC,QAAQ,YAAY;AACpB,QAAQ,OAAO;AACf,QAAQ,QAAQ;AAChB,QAAQ;AACR,OAAO;AACP,IAAI;AACJ,IAAI,OAAO,aAAa,CAAC,KAAK,CAAC,cAAc,CAAC;AAC9C,EAAE;;AAEF,EAAE,MAAM,cAAc,CAAC,YAAY,EAAE,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAE;AACpE,IAAI,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE;AAC/B,MAAM,OAAO,YAAY,CAAC,cAAc;AACxC,IAAI;AACJ,IAAI,OAAO,MAAM,IAAI,CAAC,mBAAmB;AACzC,MAAM,YAAY;AAClB,MAAM,OAAO;AACb,MAAM,QAAQ;AACd,MAAM;AACN,KAAK;AACL,EAAE;;AAEF,EAAE,MAAM,mBAAmB,CAAC,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAE;AAClE,IAAI,IAAI,IAAI,CAAC,IAAI,EAAE;AACnB,MAAM,IAAI,UAAU,EAAE;AACtB;AACA,QAAQ,IAAI,OAAO,QAAQ,CAAC,mBAAmB,KAAK,UAAU,EAAE;AAChE,UAAU,OAAO,MAAM,QAAQ,CAAC,mBAAmB,CAAC,KAAK,CAAC;AAC1D,QAAQ;AACR,QAAQ,IAAI,QAAQ,CAAC,mBAAmB,KAAK,SAAS,EAAE;AACxD,UAAU,OAAO,OAAO,QAAQ,CAAC,mBAAmB,CAAC,IAAI,KAAK;AAC9D,cAAc,MAAM,QAAQ,CAAC;AAC7B,cAAc,QAAQ,CAAC,mBAAmB;AAC1C,QAAQ;AACR;AACA,QAAQ,OAAO,aAAa,CAAC,OAAO,CAAC,iBAAiB,EAAE,EAAE,CAAC;AAC3D,MAAM,CAAC,MAAM;AACb;AACA,QAAQ,IAAI,OAAO,QAAQ,CAAC,mBAAmB,KAAK,UAAU,EAAE;AAChE,UAAU,OAAO,MAAM,QAAQ,CAAC,mBAAmB,CAAC,KAAK,CAAC;AAC1D,QAAQ;AACR,QAAQ,IAAI,QAAQ,CAAC,mBAAmB,KAAK,SAAS,EAAE;AACxD,UAAU,OAAO,OAAO,QAAQ,CAAC,mBAAmB,CAAC,IAAI,KAAK;AAC9D,cAAc,MAAM,QAAQ,CAAC;AAC7B,cAAc,QAAQ,CAAC,mBAAmB;AAC1C,QAAQ;AACR;AACA,QAAQ,OAAO,aAAa,CAAC,KAAK,CAAC,yBAAyB,CAAC;AAC7D,MAAM;AACN,IAAI;;AAEJ,IAAI,MAAM,GAAG,GAAG,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,OAAO,CAAC,QAAQ,CAAC,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;AACjE,IAAI,MAAM,MAAM,GAAG,QAAQ,CAAC,MAAM;AAClC,IAAI,MAAM,OAAO,GAAG,QAAQ,CAAC,OAAO,IAAI,EAAE;AAC1C,IAAI,IAAI;AACR,MAAM,OAAO,MAAM,QAAQ,CAAC,YAAY;AACxC,QAAQ,MAAM;AACd,QAAQ,GAAG;AACX,QAAQ,KAAK,CAAC,YAAY,EAAE;AAC5B,QAAQ,QAAQ,CAAC,YAAY;AAC7B,QAAQ,IAAI,CAAC,YAAY;AACzB,QAAQ;AACR,OAAO;AACP,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE;AACpB,MAAM,OAAO,aAAa,CAAC,KAAK,CAAC,gBAAgB,CAAC;AAClD,IAAI;AACJ,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,EAAE,UAAU,CAAC,OAAO,EAAE;AACtB,IAAI,IAAI,CAAC,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;AACnC,MAAM,MAAM,IAAI,KAAK,CAAC,sCAAsC,CAAC;AAC7D,IAAI;AACJ,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC;AAC5C,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,UAAU,CAAC,IAAI,EAAE;AACnB,IAAI,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC;AAClC,EAAE;;AAEF,EAAE,oBAAoB,CAAC,QAAQ,EAAE;AACjC,IAAI,MAAM,CAAC,WAAW,EAAE,YAAY,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC;AAC3D,IAAI,MAAM,MAAM,GAAG;AACnB,MAAM,MAAM,EAAE,IAAI;AAClB,MAAM,QAAQ,EAAE,IAAI;AACpB,MAAM,OAAO,EAAE,IAAI;AACnB,MAAM,QAAQ,EAAE,IAAI;AACpB,KAAK;;AAEL,IAAI,MAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC;AAChD,IAAI,IAAI,CAAC,OAAO,EAAE;AAClB,MAAM,MAAM,CAAC,QAAQ,GAAG,aAAa,CAAC,KAAK;AAC3C,QAAQ,CAAC,SAAS,EAAE,WAAW,CAAC,YAAY;AAC5C,OAAO;AACP,MAAM,OAAO,MAAM;AACnB,IAAI;AACJ,IAAI,MAAM,CAAC,OAAO,GAAG,OAAO;;AAE5B,IAAI,MAAM,QAAQ,GAAG,OAAO,CAAC,WAAW,CAAC,YAAY,CAAC;AACtD,IAAI,IAAI,CAAC,QAAQ,EAAE;AACnB,MAAM,MAAM,CAAC,QAAQ,GAAG,aAAa,CAAC,KAAK;AAC3C,QAAQ,CAAC,UAAU,EAAE,YAAY,CAAC,wBAAwB,EAAE,WAAW,CAAC,EAAE;AAC1E,OAAO;AACP,MAAM,OAAO,MAAM;AACnB,IAAI;AACJ,IAAI,MAAM,CAAC,QAAQ,GAAG,QAAQ;AAC9B,IAAI,MAAM,CAAC,MAAM,GAAG,KAAK;AACzB,IAAI,OAAO,MAAM;AACjB,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,aAAa,CAAC,QAAQ,EAAE,IAAI,EAAE;AAChC,IAAI,IAAI;AACR,MAAM,MAAM,QAAQ,GAAG,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC;AAC1D,MAAM,IAAI,QAAQ,CAAC,MAAM,EAAE;AAC3B,QAAQ,OAAO,QAAQ,CAAC,QAAQ;AAChC,MAAM;AACN,MAAM,MAAM,YAAY,GAAG,QAAQ,CAAC,OAAO,CAAC,QAAQ;AACpD,QAAQ,QAAQ,CAAC,QAAQ,CAAC;AAC1B,OAAO;AACP,MAAM;AACN,QAAQ,YAAY;AACpB,QAAQ,YAAY,CAAC,MAAM;AAC3B,QAAQ,OAAO,YAAY,CAAC,MAAM,KAAK;AACvC,QAAQ;AACR,QAAQ,OAAO,YAAY,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AAC/C,MAAM;AACN,MAAM,MAAM,IAAI,KAAK,CAAC,CAAC,0BAA0B,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC;AAChE,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE;AACpB,MAAM,MAAM,KAAK;AACjB,IAAI;AACJ,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,SAAS,CAAC,IAAI,EAAE,KAAK,EAAE;AACzB,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,CAAC;AACjC,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,EAAE,UAAU,GAAG;AACf,IAAI,OAAO,IAAI,CAAC,OAAO;AACvB,EAAE;AACF;;;;"}